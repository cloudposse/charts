# Default values for varnish.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
replicaCount: 1
varnish:
  debug: false
  canonical_host:
  config:
    map: default
    choose: default
  secret:
    name: default
    default:
  backend:
    host: localhost
    port: 80
    timeout:
      first_byte: 600s
      connect: 5s
      between_bytes: 20s
  cli_timeout: 86400
  storage: "1G"
  thread:
    pools: 25
    pool_min: 100
  probe:
    enabled: false
    timeout: 15000ms
    interval: 5s
    window: 5
    threshold: 3
    request: "GET / HTTP/1.1"
    host: localhost
  grace:
    healthy: 600s
    unhealthy: 48h
  ttl:
    content: 300s
    assets: 1d
image:
  repository: cloudposse/varnish
  tag: latest
  pullPolicy: IfNotPresent
service:
  name: varnish
  type: ClusterIP
  externalPort: 80
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi
